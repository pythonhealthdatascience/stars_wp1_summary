---
title: "Reflections from reproductions"
bibliography: ../references.bib
---

This page describes the facilitators for each reproduction (and, conversely, the barriers to the reproduction, in their absence). With each section, I have created a table which evaluates whether the facilitators were fully met (‚úÖ), partially met (üü°), not met (‚ùå) or not applicable (N/A) for each study.

Links to each study:

* @shoaib_simulation_2021 - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-shoaib-2022/evaluation/reflections.html" target="_blank">link to reflections</a>
* @huang_optimizing_2019  - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-huang-2019/evaluation/reflections.html" target="_blank">link to reflections</a>
* @lim_staff_2020 - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-lim-2020/evaluation/reflections.html" target="_blank">link to reflections</a>
* @kim_modelling_2021 - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-kim-2021/evaluation/reflections.html" target="_blank">link to reflections</a>
* @anagnostou_facs-charm_2022 - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-anagnostou-2022/evaluation/reflections.html" target="_blank">link to reflections</a>
* @johnson_cost_2021 - <a href="https://pythonhealthdatascience.github.io/stars-reproduce-johnson-2021/evaluation/reflections.html" target="_blank">link to reflections</a>

## Environment

::: {.callout-note icon=false collapse=true}

## List required packages

| @shoaib_simulation_2021 | @huang_optimizing_2019 | @lim_staff_2020 | @kim_modelling_2021 | @anagnostou_facs-charm_2022 | @johnson_cost_2021 |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: Became a time-consuming issue as it took a while to identify a dependency that was needed for the code to work (`greenlet`), and a while longer to realise I had installed another package when the package I needed was in base (`statistics`).

:::

::: {.callout-note icon=false collapse=true}

## Provide versions

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

In @shoaib_simulation_2021 I had to backdate the package versions as the didn't work with the latest.

<!-- TODO: Note whether it not it worked with latest versions/versions used, if the versions needed weren't provided. Explain the backdating v.s. not backdating stuff with R (but that might fall under providing the environment itself?) -->

:::

## Structure of code and scripts

::: {.callout-warning icon=false collapse=true}

## Model is designed to be run programmatically

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: Model was designed so that you directly change parameters in the script itself. This meant you couldn't run multiple versions of the model using the same script. It also meant hidden errors were more likely (e.g. if miss changing a parameter somewhere, or input the wrong parameters and don‚Äôt realise).

:::

::: {.callout-warning icon=false collapse=true}

## Don't hard code parameters that you will want to change for scenario analyses

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: Parameters were often hard-coded, and so it took time to spot where these were and correctly adjust them to be modifiable inputs.

:::

::: {.callout-warning icon=false collapse=true}

## Avoid large amounts of code duplication

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: The model often contained very similar code before or after warm-up. This has the potential to introduce mistakes - with a suspected (although unconfirmed) mistake being that the lower boundary for the doctor consultation times in configuration 1 differed before and after warm-up.

:::

## Run time

::: {.callout-important icon=false collapse=true}

## Quicker models are easier to work with

I have not evaluated like as a criteria, as a long run time is not inherently a bad thing. However, I definitely found that the run time of models had a big impact on how easy it was to reproduce results as longer run times meant it was tricky (or even impossible) to run in the first place, or tricky to re-run.

The studies where I made adjustments were:

* @shoaib_simulation_2021: Add parallel processing and ran fewer replications

:::

## Parameters, scenarios and outputs

::: {.callout-tip icon=false collapse=true}

## Provide code for all scenarios

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: There were several instances where it took quite a while to understand how and where to modify the code in order to run scenarios (e.g. no arrivals, transferring admin work, reducing doctor intervention in deliveries).

:::

::: {.callout-tip icon=false collapse=true}

## All the required outputs are calculated

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: Had to add some outputs and calculations (e.g. proportion of childbirth cases referred, standard deviation)

:::

::: {.callout-tip icon=false collapse=true}

## If not provided in the script, then clearly present all parameters in the paper

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |


@shoaib_simulation_2021: Although there was a scenario table, this did not include all the parameters I would need to change. It was more challenging to identify parameters that were only described in the body of the article. There were also some discrepancies in parameters between the main text of the article, and the tables and figures. Some scenarios were quite ambiguous/unclear from their description in the text, and I initially misunderstood the required parameters for the scenarios.

:::

::: {.callout-tip icon=false collapse=true}

## Provide all the required parameters

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: Some parameters that could not be calculated were not provided - ie. what consultation boundaries to use when mean length of doctor consultation was 2.5 minutes

:::

::: {.callout-tip icon=false collapse=true}

## If will need to process parameters, provide required calculations

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: It was unclear how to estimate inter-arrival time

:::

## Output format

::: {.callout-caution icon=false collapse=true}

## Saves output to a file

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚úÖ |

:::

::: {.callout-caution icon=false collapse=true}

## Easy to figure out how to use output table/s to create tables/figures

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

For @shoaib_simulation_2021, there were two alternative results spreadsheets with some duplicate metrics but sometimes differing results between them, which made it a bit confusing to work out what to use.

:::

## Seeds

::: {.callout-note icon=false collapse=true}

## Use seeds to control stochasticity

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

@shoaib_simulation_2021: The lack of seeds wasn't actually a barrier to the reproduction though due to the replication number. I later add seeds so my results could be reproduced, and found that the ease of setting seeds with salabim was a greater facilitator to the work. I only had to change one or two lines of code to then get consistent results between runs (unlike other simulation software like SimPy where you have to consider the use of seeds by different sampling functions). Moreover, by default, salabim would have set a seed (although overridden by original authors to enable them to run replications).

:::

## Code to produce article results

::: {.callout-warning icon=false collapse=true}

## Provide code to process results into tables

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

:::

::: {.callout-warning icon=false collapse=true}

## Provide code to process results into figures

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

:::

::: {.callout-warning icon=false collapse=true}

## Provide code to calculate results mentioned in the text (but no in tables/figures)

| S | H | L | K | A | J |
| :-: | :-: | :-: | :-: | :-: | :-: |
| ‚ùå |

:::

## Other

Include tick marks/grid lines on figures, so it is easier to read across and judge whether a result is above or below a certain Y value.

## References